<!--
http://freesound.org/people/LittleRobotSoundFactory/
270408__littlerobotsoundfactory__pickup-gold-00.wav
http://freesound.org/people/LittleRobotSoundFactory/sounds/270408/
-->
<pre id=board></pre>
<script>
hero={x:0,y:0, sym: "$",color: "darkblue",show:true}
things=[
  {x:5, y:5, sym:"@", color:"#cc0000", show:true},
  {x:6, y:4, sym:"@", color:"#cc0000", show:true},
  {x:4, y:3, sym:"@", color:"#cc0000", show:true}]

area=[
  "...........................",
  "..b.....*....*................",
  "......h......................",
  "...y....*.*.*....*...f*...........",
  "..........b..*******......r.........",
  "...........m.p......***********........"]

put=function(thing){
if(thing.show===true)
arr[thing.y][thing.x]=`<span style="color:${thing.color}">${thing.sym}</span>`
}
draw=function(){
arr=area.map(i=>i.split(""))

things.map(i=>put(i))
put(hero)
board.innerHTML=arr.map(i=>i.join("")).join("<br>")
}

right=function(){
  if(hero.x<area[hero.y].length-1)move(hero.x+1,hero.y)
  draw()
}

left=function(){
if(hero.x>0) move(hero.x-1,hero.y)
  draw()
}
down=function(){
  if(hero.y<area.length-1) move(hero.x,hero.y+1)
  draw()
}
up=function(){
if(hero.y>0) move(hero.x,hero.y-1)
  draw()
}

gold = new Audio('270408__littlerobotsoundfactory__pickup-gold-00.mp3')
move=function(newx, newy){
things.map(i=>{
  if(i.x===newx&&i.y===newy){
    i.show=false
    gold.play();
  }
})
hero.x=newx
hero.y=newy
}

document.onkeydown=function (event){
  if(event.keyCode===39)
  right()
  if(event.keyCode===37)
  left()

if(event.keyCode===38)
up()
if(event.keyCode===40)
down()
}

draw()
</script>
